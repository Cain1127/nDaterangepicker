/**
 * angular-daterangepicker 0.1.0
 * @author Eugene Serkin
 * @license MIT License http://opensource.org/licenses/MIT
 */
"use strict";!function(a){a.module("ngDaterangepicker",[]).factory("PropertyManager",function(){function a(){}return a.prototype.getProperties=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&"function"!=typeof a[c]&&(b[c]=a[c]);return b},{getProperties:function(b){var c=new a;return c.getProperties(b)}}}).service("DateRangePickerLocaleService",function(a){this.applyLabel="Apply",this.cancelLabel="Cancel",this.fromLabel="From",this.toLabel="To",this.weekLabel="W",this.customRangeLabel="Custom Range",this.daysOfWeek=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.firstDay=0,this.setApplyLabel=function(a){this.applyLabel=a},this.getApplyLabel=function(){return this.applyLabel},this.setCancelLabel=function(a){this.cancelLabel=a},this.getCancelLabel=function(){return this.cancelLabel},this.setFromLabel=function(a){this.fromLabel=a},this.getFromLabel=function(){return this.fromLabel},this.setToLabel=function(a){this.toLabel=a},this.getToLabel=function(){return this.toLabel},this.setWeekLabel=function(a){this.weekLabel=a},this.getWeekLabel=function(){return this.weekLabel},this.setCustomRangeLabel=function(a){this.customRangeLabel=a},this.getCustomRangeLabel=function(){return this.customRangeLabel},this.setDaysOfWeek=function(a){this.daysOfWeek=a},this.getDaysOfWeek=function(){return this.daysOfWeek},this.setMonthNames=function(a){this.monthNames=a},this.getMonthNames=function(){return this.monthNames},this.setFirstDay=function(a){this.firstDay=a},this.getFirstDay=function(){return this.firstDay},this.getList=function(){return a.getProperties(this)}}).service("DateRangePickerService",function(b,c){this.startDate=!1,this.endDate=!1,this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.timeZone=null,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerIncrement=30,this.timePicker12Hour=!1,this.timePickerSeconds=!1,this.ranges=!1,this.opens="right",this.buttonClasses=["btn","btn-small btn-sm"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.singleDatePicker=!1,this.parentEl="",this.iconBtnClasses=[],this.type="string",this.availableDateTypes=["string","date","moment"],this.setStartDate=function(a){this.startDate=a},this.getStartDate=function(){return this.startDate},this.setEndDate=function(a){this.endDate=a},this.getEndDate=function(){return this.endDate},this.setMinDate=function(a){this.minDate=a},this.getMinDate=function(){return this.minDate},this.setMaxDate=function(a){this.maxDate=a},this.getMaxDate=function(){return this.maxDate},this.setDateLimit=function(a){this.dateLimit=a},this.getDateLimit=function(){return this.dateLimit},this.setTimeZone=function(a){this.timeZone=a},this.getTimeZone=function(){return this.timeZone},this.setShowDropdowns=function(a){this.showDropdowns=a},this.isShowDropdowns=function(){return this.showDropdowns},this.setShowWeekNumbers=function(a){this.showWeekNumbers=a},this.isShowWeekNumbers=function(){return this.showWeekNumbers},this.setTimePicker=function(a){this.timePicker=a},this.isTimePicker=function(){return this.timePicker},this.setTimePickerIncrement=function(a){this.timePickerIncrement=a},this.getTimePickerIncrement=function(){return this.timePickerIncrement},this.setTimePicker12Hour=function(a){this.timePicker12Hour=a},this.isTimePicker12Hour=function(){return this.timePicker12Hour},this.setTimePickerSeconds=function(a){this.timePickerSeconds=a},this.isTimePickerSeconds=function(){return this.timePickerSeconds},this.addRange=function(a,b){this.ranges[a]=b},this.setRanges=function(a){this.ranges=a},this.getRanges=function(){return this.ranges},this.setOpens=function(a){this.opens=a},this.getOpens=function(){return this.opens},this.addButtonClass=function(a){this.buttonClasses.push(a)},this.setButtonClasses=function(a){this.buttonClasses=a},this.getButtonClasses=function(){return this.buttonClasses},this.setApplyBtnClass=function(a){this.applyClass=a},this.getApplyBtnClass=function(){return this.applyClass},this.setCancelBtnClass=function(a){this.cancelClass=a},this.getCancelBtnClass=function(){return this.cancelClass},this.setFormat=function(b){this.format=a.uppercase(b)},this.getFormat=function(){return this.format},this.setSeparator=function(a){this.separator=a},this.getSeparator=function(){return this.separator},this.setSingleDatePicker=function(a){this.singleDatePicker=a},this.isSingleDatePicker=function(){return this.singleDatePicker},this.setParentEl=function(a){this.parentEl=a},this.getParentEl=function(){return this.parentEl},this.addIconBtnClass=function(a){this.iconBtnClasses.push(a)},this.setIconBtnClasses=function(a){this.iconBtnClasses=a},this.getIconBtnClasses=function(){return this.iconBtnClasses},this.setType=function(a){this.isValidDateType(a)&&(this.type=a)},this.isValidDateType=function(a){if(-1==this.availableDateTypes.indexOf(a))throw new TypeError("Got type ("+a+") and expected one of the following ("+this.availableDateTypes.join(",")+")");return!0},this.getType=function(){return this.type},this.getList=function(){return c.getProperties(this)}}).directive("shorthandDateRangePicker",function(){return{restrict:"E",scope:{identifier:"@",name:"@",withBtn:"@",model:"=",options:"="},template:function(a,b){var c='<input type="text" id="{{identifier}}" class="form-control" name="{{name}}" ng-model="model" options="options" date-range-picker />';return c="true"==b.withBtn?'<div class="input-group date-range-picker">'+c+'<span class="input-group-btn"><label type="button" class="btn btn-default date" for="{{identifier}}"><i class="glyphicon glyphicon-calendar fa fa-calendar"></i></label></span>':'<div class="date-range-picker">'+c,c+="</div>"}}}).directive("dateRangePicker",function(b,c,d){return{restrict:"A",require:"^ngModel",scope:{options:"="},controller:function(b){var e=a.extend({},d.getList());b.options&&b.options.locale&&(e=a.extend(e,b.options.locale),delete b.options.locale),b.localOptions=a.extend({},c.getList(),{locale:e},b.options),b.localOptions.format=a.uppercase(b.localOptions.format),c.isValidDateType(b.localOptions.type)},link:function(c,d,e,f){var g,h,i,j,k,l,m,n,o=a.element(d);"undefined"==typeof o.attr("readonly")&&o.attr("readonly","readonly"),c.$on(c.options.identifier+"Reset",function(){return b(function(){return c.$apply(function(){var a,b=h();return a="boolean"!=typeof c.localOptions.maxDate?moment(c.localOptions.maxDate,c.localOptions.format).format(c.localOptions.format):moment().format(c.localOptions.format),b.setStartDate(a),b.setEndDate(a),f.$setViewValue({startDate:null,endDate:null}),f.$render()})})}),f.$formatters.push(function(a){if(a&&a.startDate&&a.endDate){var b=h();return b.setStartDate(a.startDate),b.setEndDate(a.endDate),a}return""}),f.$parsers.push(function(b){return a.isObject(b)&&b.hasOwnProperty("startDate")&&b.hasOwnProperty("endDate")?b:f.$modelValue}),f.$isEmpty=function(a){return!a||null===a.startDate||null===a.endDate},f.$render=function(){return f.$modelValue?null===f.$modelValue.startDate?o.val(""):(l(f.$modelValue),o.val(i(f.$modelValue))):o.val("")},g=function(){return o.daterangepicker(c.localOptions,function(a,d){return b(function(){return c.$apply(function(){return f.$setViewValue({startDate:k(a),endDate:k(d)}),f.$render()})})})},h=function(){return o.data("daterangepicker")},i=function(a){var b=function(a){return j(a).format(c.localOptions.format)};return[b(a.startDate),b(a.endDate)].join(c.localOptions.separator)},j=function(a){if(moment.isMoment(a))return a;var b;return b=a instanceof Date?moment(a):moment(a,c.localOptions.format)},k=function(a){var b=j(a);switch(c.localOptions.type){case"moment":return b;case"date":return b.toDate();default:case"string":return b.format(c.localOptions.format)}},l=function(a){c.localOptions.minDate&&a.startDate?m(c.localOptions.minDate,a.startDate):f.$setValidity("minDate",!0),c.localOptions.maxDate&&a.endDate?n(c.localOptions.maxDate,a.endDate):f.$setValidity("maxDate",!0)},m=function(a,b){var c;return a=j(a),b=j(b),c=a.isBefore(b)||a.isSame(b,"day"),f.$setValidity("minDate",c),c},n=function(a,b){var c;return a=j(a),b=j(b),c=a.isAfter(b)||a.isSame(b,"day"),f.$setValidity("maxDate",c),c},g(),o.on("apply.daterangepicker",function(a,d){return b(function(){return c.$apply(function(){return f.$setViewValue({startDate:k(d.startDate),endDate:k(d.endDate)}),f.$render()})})})}}})}(angular);